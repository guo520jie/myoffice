<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    canvas {
      border: 1px solid #000;
      display: block;
      margin: 0 auto;
      cursor: pointer;
    }
  </style>
</head>
<body>

<canvas id="canvas" width="320" height="480"></canvas>


<script>

  //1. 获取画布
  var canvas = document.getElementById("canvas");
  //2. 获取2d上下文对象
  var context = canvas.getContext("2d");

  //首先应该把穿衣服的那张画到画布中
  var back = new Image();
  back.src = "g2_back.png";

  var up = new Image();
  up.src = "g2_up.png";

  up.onload = function () {
    //把up画到画布中
    context.drawImage(up, 0, 0);
  }

  //要求：必须按下后，移动才撕
  var isPress = false;//是否按下
  canvas.addEventListener("mousedown", function () {
    isPress = true;
  });
  canvas.addEventListener("mouseup", function () {
    isPress = false;
  });

  var size = 20;
  canvas.addEventListener("mousemove", function (e) {
    if (isPress) {
      //console.log("呵呵");
      //获取鼠标在canvas中的位置
      var x = e.pageX - canvas.offsetLeft;
      var y = e.pageY - canvas.offsetTop;

      //去back那张图的x,y的位置 截取20*20的图片，画到canvas画布的x,y,
      context.drawImage(back, x - size / 2, y - size / 2, size, size, x - size / 2, y - size / 2, size, size);
    }
  });


</script>
</body>
</html>