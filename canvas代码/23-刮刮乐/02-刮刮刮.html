<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <style>
    canvas {
      border: 1px solid #000;
      display: block;
      margin: 100px auto;

    }
  </style>
</head>
<body>

<canvas id="canvas" width="400" height="200"></canvas>


<script>

  //1. 获取画布
  var canvas = document.getElementById("canvas");
  //2. 获取2d上下文对象
  var context = canvas.getContext("2d");

  var r = 20;
  // 奖品设置
  var prizesArr = [
    {name: '诺基亚珍藏版', color: 'rgba(0, 0, 0, 1)'},
    {name: '天呐! iPhoneX', color: 'rgba(0, 0, 0, .9)'},
    {name: 'iPhoneX山寨版', color: 'rgba(0, 255, 0, 1)'},
    {name: '谢谢惠顾', color: 'rgba(255, 0, 0, 1)'},
    {name: '骑皮皮虾一次', color: 'rgba(255, 100, 66, 1)'}
  ];

  //1. 绘制文字到画布中
  //1.1 获取随机的一个奖品
  var random = parseInt(Math.random() * prizesArr.length);
  var prize = prizesArr[random];
  //1.2 把文字绘制到canvas中
  context.fillStyle = prize.color;
  context.font = "40px 微软雅黑";
  //水平居中
  context.textAlign = "center";
  context.textBaseline = "middle";
  context.fillText(prize.name, canvas.width / 2, canvas.height / 2);


  //蒙层， 在上面绘制一个矩形
  context.fillStyle = "silver";
  context.fillRect(0, 0, canvas.width, canvas.height);


  //注册事件，在移动时，获取到鼠标的在画布中的位置，只要在画布中画一个圆，
  var isPress = false;
  canvas.addEventListener("mousedown", function () {
    isPress = true;
  });

  canvas.addEventListener("mouseup", function () {
    isPress = false;
  });

  canvas.addEventListener("mousemove", function (e) {
    if (isPress) {
      //获取鼠标在盒子中的位置
      var x = e.pageX - canvas.offsetLeft;
      var y = e.pageY - canvas.offsetTop;
      //在x,y的地方画一个圆
      //设置绘制重叠时，把原来的内容擦掉
      context.globalCompositeOperation = "destination-out";
      //context.fillStyle = "red";
      //context.fillRect(x, y, 20, 20);

      //绘制圆弧路径
      context.beginPath();
      context.arc(x, y, r, 0, Math.PI * 2);
      context.fill();

    }
  })


</script>
</body>
</html>